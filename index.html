<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text and Symbols Converter</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.23/dist/full.min.css" rel="stylesheet" type="text/css" />
  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/5fc4420cfa.js" crossorigin="anonymous"></script>




  <!-- popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>



  <link rel="stylesheet" href="style.css">
</head>



<body class="bg-gradient-to-b from-gray-100 to-gray-300 font-sans text-center py-10">
  <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-600 mb-6">
    Nioga TXT <a href="./info.html" class="text-emerald-300 hover:text-emerald-500 transition">
      <i class="fa-regular fa-circle-question"></i>
    </a>
  </h1>

  <!-- Input area with clear button -->
  <div class="relative w-3/4 mx-auto max-w-[1000px]">
    <textarea id="inputText"
      class="textarea textarea-bordered txtarea h-24 text-lg p-4 border-gray-300 rounded-lg mb-4 shadow-md"
      placeholder="Enter text or Nioga TXT here..."></textarea>
    <!-- Clear button -->
    <button onclick="clearTextarea()"
      class="absolute bottom-2 right-2 bg-red-500 text-white px-3 py-1 rounded-lg text-sm font-semibold shadow hover:bg-red-600 transition-all">
      Clear
    </button>
  </div>

  <br>

  <!-- Action buttons -->
  <div class="space-x-4 mb-6">
    <button class="btn btn-primary px-6 py-2 text-lg font-semibold rounded-full shadow-lg hover:bg-blue-600"
      onclick="convertToSymbols()">To Nioga TXT</button>
    <button
      class="btn btn-secondary btn-outline px-6 py-2 text-lg font-semibold rounded-full shadow-lg hover:border-gray-400"
      onclick="convertToText()">To Text/English</button>
  </div>

  <!-- Output area with copy button -->
  <div
    class="output w-3/4 mx-auto p-4 text-lg bg-gray-200 max-w-[1000px] rounded-lg border border-gray-300 mt-4 relative text-gray-700 shadow-md whitespace-pre-wrap break-words"
    id="outputText">
  </div>

  <!-- The copy button initially hidden -->
  <button id="copyBtn" class="text-white p-2 rounded-full z-10 hidden">
    <i class="fa-regular fa-copy text-black"></i>
  </button>
</body>

<script>
  // Wait until the DOM is fully loaded
  window.addEventListener('DOMContentLoaded', () => {
    const cipher = {
      A: "∫", B: "υ", C: "⊂", D: "⊃", E: "∤", F: "∥",
      G: "7", H: "Π", I: "Γ", J: "∂", K: "∪", L: "∠",
      M: "⊡", N: "□", O: "⨞", P: "⌒", Q: "∩", R: "ς",
      S: ">", T: "∨", U: "<", V: "Λ", W: "≅", X: "⋇",
      Y: "⟃", Z: "⟐"
    };

    // Reverse the cipher to create a "symbols-to-text" map
    const reverseCipher = {};
    for (const [key, value] of Object.entries(cipher)) {
      reverseCipher[value] = key;
    }

    function convertToSymbols() {
      const inputText = document.getElementById("inputText").value.toUpperCase();
      let outputText = "";
      for (const char of inputText) {
        if (char === " ") {
          outputText += "-- "; // Replace spaces with an underscore
        } else if (cipher[char]) {
          outputText += cipher[char] + " ";
        } else {
          outputText += char + " "; // Keep characters that are not in the cipher
        }
      }
      document.getElementById("outputText").innerText = outputText.trim();
      showCopyButton(); // Show the copy button when there's output
    }

    function convertToText() {
      const inputText = document.getElementById("inputText").value.split(" "); // Split by spaces
      let outputText = "";
      for (const symbol of inputText) {
        if (symbol === "--") {
          outputText += " "; // Replace underscores with spaces
        } else if (reverseCipher[symbol]) {
          outputText += reverseCipher[symbol];
        } else {
          outputText += symbol; // Keep characters that are not in the reverse cipher
        }
      }
      document.getElementById("outputText").innerText = outputText.trim();
      showCopyButton(); // Show the copy button when there's output
    }

    function showCopyButton() {
      document.getElementById("copyBtn").classList.remove("hidden"); // Show the copy button
    }

    // Copy functionality
    document.getElementById("copyBtn").addEventListener("click", function () {
      const outputText = document.getElementById("outputText").innerText;
      navigator.clipboard.writeText(outputText)
        .then(function () {
          Swal.fire({
            title: "Success!",
            text: "Text copied to clipboard!",
            icon: "success",
            confirmButtonText: "OK",
            timer: 2000,
            timerProgressBar: true,
          });
        })
        .catch(function (err) {
          Swal.fire({
            title: "Error!",
            text: "Failed to copy text: " + err,
            icon: "error",
            confirmButtonText: "Try Again",
          });
        });
    });


    // Make the convert buttons functional
    document.querySelector(".btn-primary").addEventListener("click", convertToSymbols);
    document.querySelector(".btn-secondary").addEventListener("click", convertToText);

    // Auto-conversion on typing
    document.getElementById("inputText").addEventListener("input", convertToSymbols);
  });


  function clearTextarea() {
    document.getElementById('inputText').value = '';
  }

</script>

</html>
